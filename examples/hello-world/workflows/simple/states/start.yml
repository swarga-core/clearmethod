# State: Start
# –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

state:
  status: start
  title: "Start"
  description: "–ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"

preconditions:
  - description: "–ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞"
    check: "exists(.cm/tasks/{task_id}.yml)"
  
  - description: "Workflow –µ—â–µ –Ω–µ –Ω–∞—á–∞—Ç"
    check: "TASK.get_state(task_id) == null"

execute:
  # 1. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
  - info: "üëã Hello World! Starting test workflow"
  - info: "Task: {task_id}"
  
  # 2. –¢–µ—Å—Ç –±–∞–∑–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
  - group: "Test variables"
    do:
      - let: test_value = "Hello ClearMethod"
      - let: test_number = 42
      - info: "Variable test_value = {test_value}"
      - info: "Variable test_number = {test_number}"
  
  # 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –∑–∞–¥–∞—á–∏
  - group: "Set initial properties"
    do:
      - TASK.set_property(task_id, "test_mode", true)
      - TASK.set_property(task_id, "stage", "start")
      - TASK.set_property(task_id, "counter", 0)
      - info: "Initial properties set"
  
  # 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  - TASK.log(task_id, "Start state: initialization complete")
  
  # 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–ª–∞–≥ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
  - TASK.set_property(task_id, "start_complete", true)
  
  # 6. –°–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - info: "‚úÖ Start state complete"
  - info: "Next state: 'process' - test CML constructs"

postconditions:
  - description: "–°–≤–æ–π—Å—Ç–≤–æ start_complete —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
    check: "TASK.get_property(task_id, 'start_complete') == true"
  
  - description: "–°–≤–æ–π—Å—Ç–≤–æ test_mode —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
    check: "TASK.get_property(task_id, 'test_mode') == true"

next_states:
  - process

agent_notes: |
  –≠—Ç–æ –ø–µ—Ä–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ workflow.
  –ó–¥–µ—Å—å –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º:
  - –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (info, let)
  - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É (group:)
  - –í—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ TASK
  - –£—Å—Ç–∞–Ω–æ–≤–∫—É —Å–≤–æ–π—Å—Ç–≤
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

