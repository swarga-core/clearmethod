# Описание
Концепты - близки к понятию классов в ООП.
Предметы - это воплощенные концепты, аналог объектов в ООП.
Каждый концепт может иметь свойства и методы, аналогичные ООП. Выполнением методов занимается непосредственно ИИ-агент, пошагово читая их и исполняя.

# Основные концепты
## Концепты ядра

### AGENT
Это концепт, представляющий ИИ-агента и его контекстное окно.

Свойства:
- model - название модели
- total_tokens - примерное общее количество токенов в контекстнои окне агента
- used_tokens - примерное количество использованных токенов в текущем контекстном окне агента

### TASK
Концепт, представляющий задачу, решением которой занимается ИИ-агент. Задача - это набор данных, которые последовательно изменяются в процессе перемещения задачи между состояниями рабочего процесса.

**Свойства**:
- id
- title
- content
- creator
- created_at
- last_updated_at
- last_updater
- workflow - id рабочего процесса, по которму над задачей в данный момент работает агент.
- status - id текущего статуса задачи в рамках текущего рабочего проецесса.

**Методы**
- create(id, title, content, creator, workflow) - создает задачу для выполнения в рамках заданного рабочего процесса.
- 

### WORKFLOW
Концепт, представляющий рабочий процесс (Workflow). Рабочий процесс - это ориентированный граф, вершины которого представляют собой состояния, которые может принимать задача, а ребра - разрешенные переходы между состояниями. Рабочий проецесс это машина состояний, которым одновременно может пользоваться множество задач, каждая из которых хранит в себе свое текущее состояние относительно процесса. Когда задача переходит в определенное состояние, над ней производится определенный набор действий, привязанный к текущему узлу рабочего процесса.

Каждый узел процесса имеет собственное уникальное название - статус. Когда задача переходит в новый узел, название этого узла закрепляется в ее состоянии как ее статус. Можно сказать, что статус задачи - это ее текущее положение в графе рабочего процесса.

Каждый узел (состояние) рабочего процесса имеет **свойства**:
- status - строковая константа, представляющая идентификатор состояния (т. н. статус)
- title - название статуса
- preconditions - условия, которые должны быть выполнены для входа в данное состояние.
- postconditions - условия, которые должны быть выполнены для выхода из данного состояния.
- execute - набор команд, которые необходимо выполнить в процессе нахождения задачи в данном статусе.

Примечание: Состояния рабочего процесса ничего не должны знать друг о друге. Соответственно, пред и постусловия не должны включать в себя проверки задачи на другие состояния.

Кроме состояния, узел рабочего процесса может быть **подпроцессом** (sub-workflow) - тогда агент заходит в него, как в обычный узел, через предусловия, и выходит после завершения подпроцесса и постусловий. При этом, у такого узла нет своего состояния со статусом - он получает статус узлов подпроцесса.

**Методы** рабочего процесса:
- start() - метод, инициирующий создание задачи и запуск рабочего процесса.
- go(taks_id, status) - пытается перевести задачу из ее текущего статуса в указанный. При невозможности перехода объясняет пользователю причины и варианты действия.
- next(task_id) - пытается перевести задачу к следующему узлу процесса. Если есть несколько доступных вариантов перехода, указывает их пользователю, предлагая выбрать. Вызывает go().
- goback(task_id) - пытается вернуться на предыдущий узел процесса, перезапустив его.
- rework(task_id) - пытается перезапустить работу по задаче в рекущем узле процесса.
- finalize(task_id) - завершает работу по задаче.

## CONTEXT
Концепт, представляющий механику подгрузки в контекстное окно ИИ-агента контекстной информации о проекте в виде отдельных сегментов, загружая предельно краткие, ориентированные на LLM отрезки данных о проекте, текущей задаче и строго очерченном контексте, связанного с ней.

**Методы** контекста:
- prime() - метод, загружающий начальный контекст в контекстное окно агента в новом чате. Запускается либо автоматически, либо вручную отдельной командой, в зависимости от среды (IDE/CLI)
- load(context_info) - загружает необходимые контекстные сегменты, связанные с context_info.

## Концепты расширений

### VCS
Концепт, представляющий систему версионирования. Предоставляет обобщенный интерфейс, который может быть реализован любым расширением, работающим с конкретным типом vcs, например: git, hg, svn.

**Свойства**
- id - идентификатор, представляющий конкретную реализацию vcs

**Методы**
- checkout
- commit
- push
- pull
- etc

### KANBAN
Концепт, представляющий канбан-доску. Предоставляет обобщенный интерфейс для работы с такими досками. Может быть реализован как файловый канбан, хранящий задачи в папках, соответствующих колонкам канбан-достки, так и как mcp, обеспечивающий доступ к удаленному таск-трекеру.

**Свойства**
- id - идентификатор, представляющий конкретную реализацию канбан
- columns - массив возможных колонок
- start_column - стартовая колонка для задач
- finish_column - финальная колонка для задач

**Методы**
- move(task_id, to_column) - перемещает задачу между колонками

