# Команда: /cm-prime

> **Для пользователей**: Подробное описание команды загрузки контекста

---

## Назначение

Загружает контекст ClearMethod в новую сессию чата с ИИ-агентом.

**Это первая команда**, которую нужно выполнить при начале работы.

---

## Использование

```
/cm-prime
```

Без параметров.

---

## Что происходит

1. **Проверка setup**
   - Команда проверяет наличие папки `.cm/` в корне проекта
   - Если папки нет → ошибка (нужен setup)

2. **Чтение конфигурации**
   - Читает `.cm/priming.yml`
   - Определяет какие primers загружать и в каком порядке

3. **Загрузка primers**
   - **Core primer** - основы ClearMethod
   - **Extension primers** - активные расширения (file-task, sbd, etc)
   - **Project primers** - контекст проекта (архитектура, conventions)

4. **Подтверждение**
   - Агент сообщает что загружено
   - Показывает доступные команды и workflows

---

## После выполнения

Агент получает полное понимание:
- Как работает ClearMethod (концепты, методы)
- Какие команды доступны
- Какие workflows можно использовать
- Контекст вашего проекта

**Агент готов к работе!**

---

## Примеры

### Успешный priming

```
User: /cm-prime

Agent:
✅ ClearMethod context loaded

Loaded:
- Core (framework basics)
- file-task extension
- sbd extension  
- Project context

Available workflows:
- sbd.feature (7 stages)

Ready! Use /cm-start to begin a task.
```

### Ошибка - нет setup

```
User: /cm-prime

Agent:
❌ ClearMethod not set up in this project.

The .cm/ folder was not found.
Please run ClearMethod setup first.
```

---

## Когда использовать

- ✅ В начале нового чата
- ✅ После длительного перерыва
- ✅ Когда агент "забыл" контекст (новое окно)
- ❌ Не нужно вызывать повторно в том же чате

---

## Важные детали

### Размер контекста

Primers специально компактны:
- Core primer: ~2K токенов
- Extension primer: ~1K токенов каждый
- Total: ~5-8K токенов (приемлемо)

### Порядок загрузки

Определяется в `.cm/priming.yml`:
1. Core (обязательно)
2. Extensions (по порядку из конфига)
3. Project (опционально)

### Что делать при ошибках

Если primer не загрузился:
- Проверьте путь в `priming.yml`
- Убедитесь что файл существует
- Проверьте права доступа

---

## Связанные команды

После priming доступны:
- `/cm-start` - начать задачу
- `/cm-next` - следующий этап
- `/cm-status` - статус задачи

---

**Priming - точка входа в ClearMethod. Без него другие команды не работают.**

