# PSD Extension Primer

> **–î–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–∞**: Project Software Development workflows

---

## –ß—Ç–æ —ç—Ç–æ?

**PSD (Project Software Development)** - –Ω–∞–±–æ—Ä —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è –ø–æ—ç—Ç–∞–ø–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ü–û.

**–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç**: `psd.feature` workflow (+ –¥—Ä—É–≥–∏–µ –≤ –±—É–¥—É—â–µ–º)

---

## Feature Workflow

7-—Å–æ—Å—Ç–æ—è–Ω–∏–π workflow –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤—ã—Ö —Ñ–∏—á:

```
creating ‚Üí analyzing ‚Üí designing ‚Üí planning ‚Üí implementing ‚Üí verifying ‚Üí completing
```

### –°–æ—Å—Ç–æ—è–Ω–∏—è

**1. Creating** - –°–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –¶–µ–ª—å: –ù–∞–ø–∏—Å–∞—Ç—å —á–µ—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç: `specs.md`
- –í—ã—Ö–æ–¥: `specs_complete = true`

**2. Analyzing** - –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –∫–æ–¥–∞
- –¶–µ–ª—å: –ì–ª—É–±–æ–∫–æ –ø–æ–Ω—è—Ç—å —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å
- –ò–∑—É—á–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —á–∞—Å—Ç–∏ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç: `analysis.md`
- –í—ã—Ö–æ–¥: `analysis_complete = true`

**3. Designing** - –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è
- –¶–µ–ª—å: –°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ –¥–∏–∑–∞–π–Ω
- –ü–æ–ª—É—á–∏—Ç—å approval –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç: `design.md`
- –í—ã—Ö–æ–¥: `design_approved = true`

**4. Planning** - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –¶–µ–ª—å: –°–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –î–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∑–∞–π–Ω –Ω–∞ —à–∞–≥–∏
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç: `plan.md`
- –í—ã—Ö–æ–¥: `plan_approved = true`

**5. Implementing** - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –¶–µ–ª—å: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –ø–ª–∞–Ω—É
- –°–ª–µ–¥–æ–≤–∞—Ç—å —à–∞–≥–∞–º –∏–∑ plan.md
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç: `implementation.md`
- –í—ã—Ö–æ–¥: `implementation_complete = true`

**6. Verifying** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
- –¶–µ–ª—å: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç: `test-results.md`
- –í—ã—Ö–æ–¥: `verification_passed = true`

**7. Completing** - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- –¶–µ–ª—å: –ü–æ–¥–≤–µ—Å—Ç–∏ –∏—Ç–æ–≥–∏
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç: `summary.md`
- –í—ã—Ö–æ–¥: `task_complete = true`

---

## –ì—Ä–∞—Ñ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

```
creating ‚îÄ‚îÄ‚Üí analyzing ‚îÄ‚îÄ‚Üí designing ‚îÄ‚îÄ‚Üí planning ‚îÄ‚îÄ‚Üí implementing ‚îÄ‚îÄ‚Üí verifying ‚îÄ‚îÄ‚Üí completing
             ‚Üë           ‚Üë           ‚Üë             ‚Üë
             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        (–≤–æ–∑–≤—Ä–∞—Ç –µ—Å–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è      (–≤–æ–∑–≤—Ä–∞—Ç –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
         –Ω–µ—è—Å–Ω—ã –∏–ª–∏ –¥–∏–∑–∞–π–Ω –Ω–µ–≤–µ—Ä–µ–Ω)    –ø–ª–∞–Ω–∞ –∏–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)
```

---

## –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. –ò–∑–æ–ª—è—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π

–°–æ—Å—Ç–æ—è–Ω–∏—è –ù–ï –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–∞ –∑–∞–¥–∞—á–∏:

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**:
```yaml
preconditions:
  - check: "previous_state == 'analyzing'"
```

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**:
```yaml
preconditions:
  - check: "FILE_TASK.get_property(task_id, 'analysis_complete') == true"
```

### 2. –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è

–ù–µ —É–¥–∞–ª—è–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π. –û–Ω–∏ –≤—Å–µ –≤–∞–∂–Ω—ã:
- `specs.md` - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- `analysis.md` - –∞–Ω–∞–ª–∏–∑
- `design.md` - –¥–∏–∑–∞–π–Ω
- `plan.md` - –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- `test-results.md` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `summary.md` - –∏—Ç–æ–≥–∏

### 3. –í–æ–∑–≤—Ä–∞—Ç—ã - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - —á–∞—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞:
- `analyzing ‚Üí creating` –µ—Å–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–µ—è—Å–Ω—ã
- `designing ‚Üí analyzing` –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è
- `planning ‚Üí designing` –µ—Å–ª–∏ –¥–∏–∑–∞–π–Ω –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å
- `implementing ‚Üí planning` –µ—Å–ª–∏ –ø–ª–∞–Ω —Ç—Ä–µ–±—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
- `verifying ‚Üí implementing` –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤

### 4. Guard conditions

–ö–∞–∂–¥—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∑–∞—â–∏—â–µ–Ω —É—Å–ª–æ–≤–∏—è–º–∏. –ü—Ä–æ–≤–µ—Ä—è–π –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º:
- Postconditions —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- Guard conditions —Ü–µ–ª–µ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## –¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### –ó–∞–ø—É—Å–∫

```
User: /cm-start psd.feature TASK-123

Agent:
1. FILE_TASK.create("TASK-123", ...)
2. WORKFLOW.start("TASK-123")
3. ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –≤ 'creating'
4. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ creating.yml
```

### –ü–µ—Ä–µ—Ö–æ–¥

```
User: /cm-next

Agent:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ postconditions —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
2. –ï—Å–ª–∏ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã - —Å–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
3. –ï—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å next_state
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ guard conditions –ø–µ—Ä–µ—Ö–æ–¥–∞
5. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ set_state()
6. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```

### –í–æ–∑–≤—Ä–∞—Ç

```
User: /cm-goback

Agent:
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏)
2. –ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å –æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö
3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞–∑–∞–¥
```

---

## –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –í –∫–∞–∂–¥–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏:

1. **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–π** - —Å–∫–∞–∂–∏ —á—Ç–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è
2. **–ß–∏—Ç–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã** - –∏—Å–ø–æ–ª—å–∑—É–π –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
3. **–î–µ–ª–∞–π —Ä–∞–±–æ—Ç—É** - —Å–ª–µ–¥—É–π execute –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. **–°–æ–∑–¥–∞–≤–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã** - –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
5. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π —Å–≤–æ–π—Å—Ç–≤–∞** - –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏
6. **–õ–æ–≥–∏—Ä—É–π** - FILE_TASK.log()
7. **–ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–π** - —Å–æ–æ–±—â–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∏:

- **–î–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**: preconditions
- **–ü–æ—Å–ª–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**: postconditions
- **–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ**: guard conditions

### –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

- –û–±—ä—è—Å–Ω—è–π —á—Ç–æ –¥–µ–ª–∞–µ—à—å
- –ó–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å—ã –µ—Å–ª–∏ –Ω–µ—è—Å–Ω–æ
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–π feedback
- –ü–æ–ª—É—á–∞–π approvals (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ designing)

---

## –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

**–í –ø—Ä–æ–µ–∫—Ç–µ**:
- `.cm/packages/psd/extension.yml` - –æ–ø–∏—Å–∞–Ω–∏–µ
- `.cm/packages/psd/workflows/feature/workflow.yml` - –≥—Ä–∞—Ñ
- `.cm/packages/psd/workflows/feature/states/*.yml` - —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ó–∞–¥–∞—á–∏ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã**:
- `.cm/tasks/TASK-XXX/` - –ø–∞–ø–∫–∞ –∑–∞–¥–∞—á–∏
- `.cm/tasks/TASK-XXX/status.yml` - —Å–≤–æ–π—Å—Ç–≤–∞
- `.cm/tasks/TASK-XXX/*.md` - –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

---

## –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

```
1. Creating:
   - –ù–∞–ø–∏—Å–∞—Ç—å specs.md
   - specs_complete = true

2. Analyzing:
   - –ò–∑—É—á–∏—Ç—å –∫–æ–¥
   - –°–æ–∑–¥–∞—Ç—å analysis.md
   - analysis_complete = true

3. Designing:
   - –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
   - –ü–æ–ª—É—á–∏—Ç—å approval
   - –°–æ–∑–¥–∞—Ç—å design.md
   - design_approved = true

4. Planning:
   - –°–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω
   - –î–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —à–∞–≥–∏
   - –°–æ–∑–¥–∞—Ç—å plan.md
   - plan_approved = true

5. Implementing:
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ –ø–ª–∞–Ω—É
   - implementation_complete = true

6. Verifying:
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
   - –°–æ–∑–¥–∞—Ç—å test-results.md
   - verification_passed = true

7. Completing:
   - –°–æ–∑–¥–∞—Ç—å summary.md
   - task_complete = true
   - üéâ –ì–æ—Ç–æ–≤–æ!
```

---

**–¢—ã –≥–æ—Ç–æ–≤ –≤–µ—Å—Ç–∏ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ PSD Feature Workflow!** üöÄ

